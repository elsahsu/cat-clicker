<!doctype html>
<html>
 	 <head>
 	 	<meta charset="utf-8">
		<title>Cat Clicker 0.3</title>
	</head>
	<body>
		<div id="cat-list"> </div>
		<div id="cat-display">
			<h1 id="display-name"></h1>
			<img id="display-img">
			<div> Clicks: <span id="click-count">None</span></div>
		</div>
	</body>

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script>

function Cat(index, name) {
	this.index = index;
	this.name = name;
	this.clicks = 0;
}

Cat.prototype.clicked = function() {
	this.clicks += 1;
	console.log(this.name + ' clicked. Count:' + this.clicks);
	$('#click-count').text(this.clicks);
}

Cat.prototype.clickName = function() {
	console.log(this.name + ' name clicked.');
	// $(`#cat-${this.index}-clicks`).html(this.clicks);
	selected_cat = this;
	let image_file = "cat_" + this.index + ".jpg";
	$('#display-name').html(this.name);
	$('#display-img').attr('src', image_file);
	$('#click-count').text(this.clicks);
}

let cats = [
	new Cat(0, 'Onesey'),
	new Cat(1, 'Twosey'),
	new Cat(2, 'Threesey'),
	new Cat(3, 'Foursey'),
	new Cat(4, 'Fivesey'),
];

let selected_cat = null;

// console.log(cats);

cats.forEach(function(cat, index) {
	console.log(cat);
	let grid = $('#cat-list');
	// let image_id = "img-cat-" + cat.index;
	// let image_file = "cat_" + cat.index + ".jpg";
	var list_elem = document.createElement('div');
	var link_elem = document.createElement('a');
	link_elem.setAttribute('href', '#' + cat.index);
	link_elem.textContent = cat.name;
	link_elem.addEventListener('click', function() {
		// console.log(cat.name + ' clicked');
		cat.clickName();
	});
	list_elem.append(link_elem);
	grid.append(list_elem);
	// grid.append(`<div> <a href="#${cat.index}"> ${cat.name} </a> </div>`);

	// grid.append(`<img id="${image_id}" src="${image_file}">`);
	// grid.append(`<h1> Clicks: <span id="cat-${index}-clicks"> None </h1>`);	
});

$('#display-img').click(function() {
	console.log('Image clicked');
	selected_cat.clicked();
});

	</script>
</html>
